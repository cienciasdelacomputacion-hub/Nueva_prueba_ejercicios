<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Ejercicio 3 - Java</title>
<style>
body { font-family: Arial, sans-serif; background-color: #f4f4f4; padding: 20px; }
.card { background-color: #fff; border-radius: 10px; box-shadow: 0 3px 6px rgba(0,0,0,0.1); padding: 20px; margin-bottom: 20px; }
textarea { width: 100%; height: 200px; font-family: monospace; font-size: 14px; }
button { padding: 10px 15px; font-size: 16px; margin-top: 10px; cursor: pointer; border: none; border-radius: 5px; background-color: #4CAF50; color: white; }
#resultado { margin-top: 15px; font-weight: bold; }
.advertencia { color: #a94442; background-color: #f2dede; border: 1px solid #ebccd1; padding: 10px; border-radius: 4px; margin-bottom: 15px; }
.seccion-clave { display: none; margin-top: 20px; border-top: 1px solid #ccc; padding-top: 15px; }
</style>
</head>
<body>

<div class="card">
    <h3>Ejercicio 3: Estado del Dispositivo üì±</h3>
    <p>Crea un m√©todo en Java llamado <strong><code>obtenerEstado</code></strong> que tome un par√°metro int codigoEstado y devuelva un <code>String</code> con el estado del dispositivo, usando un <code>switch</code>.
    </p>
    <ul>
        <li>C√≥digo 1: "Encendido"</li>
        <li>C√≥digo 2: "Apagado"</li>
        <li>C√≥digo 3: "En espera"</li>
        <li>Otro c√≥digo: "Desconocido"</li>
    </ul>
    <div class="advertencia">
        ‚ö†Ô∏è **Advertencia:** Respeta los mismos nombres de funcion, variables y los string que debes retornar seg√∫n indica la consigna.
        <iframe src="https://trinket.io/embed/java/82948ed9d10e" width="100%" height="400" frameborder="0" marginwidth="0" marginheight="0" allowfullscreen></iframe>
    </div>
    <p>Ingres√° tu c√≥digo en el √°rea de texto:</p>
    <textarea id="codigo"></textarea>
    <button id="verificar">Verificar c√≥digo</button>
    <div id="resultado"></div>
    <div id="solucionFinal" class="seccion-clave">
        <p>‚úÖ ¬°Excelente! Tu soluci√≥n es correcta.</p>
        <h4>Clave de validaci√≥n</h4>
        <p>La clave para este ejercicio es: **SWITCH-STATE-OK**</p>
    </div>
</div>

<script>
document.getElementById('codigo').addEventListener('keydown', function(e) {
    if (e.key === 'Tab') {
        e.preventDefault();
        const start = this.selectionStart;
        const end = this.selectionEnd;
        const tab = "    ";
        this.value = this.value.substring(0, start) + tab + this.value.substring(end);
        this.selectionStart = this.selectionEnd = start + tab.length;
    }
});
document.getElementById("verificar").addEventListener("click", function() {
    const codigoUsuario = document.getElementById("codigo").value;
    const resultadoDiv = document.getElementById("resultado");
    const solucionFinalDiv = document.getElementById("solucionFinal");
    solucionFinalDiv.style.display = 'none';
    const codigoNormalizado = codigoUsuario.replace(/\s/g, '').replace(/[\n\r]+/g, '').trim();
    const solucionesNormalizadas = [
        'publicStringobtenerEstado(intcodigoEstado){switch(codigoEstado){case1:return"Encendido";case2:return"Apagado";case3:return"Enespera";default:return"Desconocido";}}'
    ];
    const patronSintaxis = /public\s+String\s+obtenerEstado\s*\(\s*int\s+codigoEstado\s*\)\s*\{/;
    if (!patronSintaxis.test(codigoUsuario)) {
        resultadoDiv.textContent = "‚ùå Error de sintaxis. Revisa la definici√≥n del m√©todo, el tipo de retorno y los par√°metros.";
        resultadoDiv.style.color = "red";
        return;
    }
    if (solucionesNormalizadas.includes(codigoNormalizado)) {
        resultadoDiv.textContent = "‚úÖ ¬°Excelente! Tu soluci√≥n es correcta.";
        resultadoDiv.style.color = "green";
        solucionFinalDiv.style.display = 'block';
    } else {
        resultadoDiv.textContent = "‚ùå Error de l√≥gica. Revisa las condiciones del 'switch' o los valores de retorno.";
        resultadoDiv.style.color = "red";
    }
});
</script>
</body>
</html>