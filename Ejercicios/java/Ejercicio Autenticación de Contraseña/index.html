<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Ejercicio - Autenticaci√≥n con Bucle</title>
<style>
body { font-family: Arial, sans-serif; background-color: #f4f4f4; padding: 20px; }
.card { background-color: #fff; border-radius: 10px; box-shadow: 0 3px 6px rgba(0,0,0,0.1); padding: 20px; margin-bottom: 20px; }
textarea { width: 100%; height: 200px; font-family: monospace; font-size: 14px; }
button { padding: 10px 15px; font-size: 16px; margin-top: 10px; cursor: pointer; border: none; border-radius: 5px; background-color: #4CAF50; color: white; }
#resultado { margin-top: 15px; font-weight: bold; }
.advertencia { color: #a94442; background-color: #f2dede; border: 1px solid #ebccd1; padding: 10px; border-radius: 4px; margin-bottom: 15px; }
.seccion-clave { display: none; margin-top: 20px; border-top: 1px solid #ccc; padding-top: 15px; }
</style>
</head>
<body>

<div class="card">
    <h3>Ejercicio: Autenticaci√≥n de Contrase√±a üîê</h3>
    <p>
        Crea un m√©todo en Java llamado <strong>autenticarContrasena</strong> que reciba dos par√°metros: un objeto Scanner llamado tec y un String contrasenaIngresada. El m√©todo debe usar un bucle while para verificar si la contrase√±a ingresada coincide con "Java123". 
        </p>
        <p>El bucle debe pedir la contrase√±a de nuevo si no coincide y terminar cuando sea correcta, mostrando este mensaje de √©xito: "¬°Autenticaci√≥n exitosa!".
    
    </p>
    
    <div class="advertencia">
        ‚ö†Ô∏è **Advertencia:** La contrase√±a correcta es "Java123". El m√©todo ya recibe el objeto Scanner, no lo crees dentro.
    </div>
    <iframe src="https://trinket.io/embed/java/82948ed9d10e" width="100%" height="400" frameborder="0" marginwidth="0" marginheight="0" allowfullscreen></iframe>
    
    <p>Ingres√° tu c√≥digo en el √°rea de texto:</p>
    <textarea id="codigo"></textarea>
    <button id="verificar">Verificar c√≥digo</button>
    <div id="resultado"></div>
    <div id="solucionFinal" class="seccion-clave">
        <p>‚úÖ ¬°Excelente! Tu soluci√≥n es correcta.</p>
        <h4>Clave de validaci√≥n</h4>
        <p>La clave para este ejercicio es: **LOOP-AUTH-PASS**</p>
    </div>
</div>

<script>
document.getElementById('codigo').addEventListener('keydown', function(e) {
    if (e.key === 'Tab') {
        e.preventDefault();
        const start = this.selectionStart;
        const end = this.selectionEnd;
        const tab = "    ";
        this.value = this.value.substring(0, start) + tab + this.value.substring(end);
        this.selectionStart = this.selectionEnd = start + tab.length;
    }
});
document.getElementById("verificar").addEventListener("click", function() {
    const codigoUsuario = document.getElementById("codigo").value;
    const resultadoDiv = document.getElementById("resultado");
    const solucionFinalDiv = document.getElementById("solucionFinal");
    solucionFinalDiv.style.display = 'none';
    const codigoNormalizado = codigoUsuario.replace(/\s/g, '').replace(/[\n\r]+/g, '').trim();
    const solucionesNormalizadas = [
        'publicvoidautenticarContrasena(Scannertec,StringcontrasenaIngresada){while(!contrasenaIngresada.equals("Java123")){System.out.println("Contrase√±aincorrecta.Intentadenuevo:");contrasenaIngresada=tec.nextLine();}System.out.println("¬°Autenticaci√≥nexitosa!");}'
    ];
    const patronSintaxis = /public\s+void\s+autenticarContrasena\s*\(\s*Scanner\s+tec\s*,\s*String\s+contrasenaIngresada\s*\)\s*\{/;
    if (!patronSintaxis.test(codigoUsuario)) {
        resultadoDiv.textContent = "‚ùå Error de sintaxis. Revisa la definici√≥n del m√©todo y los par√°metros.";
        resultadoDiv.style.color = "red";
        return;
    }
    if (solucionesNormalizadas.includes(codigoNormalizado)) {
        resultadoDiv.textContent = "‚úÖ ¬°Excelente! Tu soluci√≥n es correcta.";
        resultadoDiv.style.color = "green";
        solucionFinalDiv.style.display = 'block';
    } else {
        resultadoDiv.textContent = "‚ùå Error de l√≥gica. Revisa la condici√≥n del bucle, el mensaje de error o el valor de la contrase√±a correcta.";
        resultadoDiv.style.color = "red";
    }
});
</script>
</body>
</html>