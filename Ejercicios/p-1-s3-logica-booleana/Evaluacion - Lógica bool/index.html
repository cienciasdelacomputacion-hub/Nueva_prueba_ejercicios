<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Pr√°ctica de L√≥gica Booleana - Ejercicios Adicionales</title>
<style>
body {
    font-family: Arial, sans-serif;
    background-color: #f4f4f4;
    padding: 20px;
}
.card {
    background-color: #fff;
    border-radius: 10px;
    box-shadow: 0 3px 6px rgba(0,0,0,0.1);
    padding: 20px;
    margin-bottom: 20px;
}
textarea {
    width: 100%;
    height: 140px;
    font-family: monospace;
    font-size: 14px;
}
button {
    padding: 10px 15px;
    font-size: 16px;
    margin-top: 10px;
    cursor: pointer;
    border: none;
    border-radius: 5px;
    background-color: #4CAF50;
    color: white;
}
#resultado {
    margin-top: 15px;
    font-weight: bold;
}
.advertencia {
    color: #a94442;
    background-color: #f2dede;
    border: 1px solid #ebccd1;
    padding: 10px;
    border-radius: 4px;
    margin-bottom: 15px;
}
.seccion-clave {
    display: none;
    margin-top: 20px;
    border-top: 1px solid #ccc;
    padding-top: 15px;
}
.seccion-clave h4 {
    margin-top: 0;
}
</style>
</head>
<body>

<h2>Pr√°ctica de L√≥gica Booleana</h2>

<div class="card">
    <h3>Ejercicio 1: ¬øVamos a la cafeter√≠a? ‚òï</h3>
    <p>Escribe una funci√≥n llamada <strong><code>vamos(libre, dinero, amigo)</code></strong> que devuelva <code>True</code> si se cumple esta condici√≥n: est√°s **libre** O tienes **dinero**, Y un **amigo** te invita.</p>
    <div class="advertencia">
        ‚ö†Ô∏è **Advertencia:** Para que la soluci√≥n sea validada correctamente, debes respetar los nombres de la funci√≥n y las variables tal como se indican.
    </div>
    <p>Ingres√° tu c√≥digo en el √°rea de texto:</p>
    <textarea id="codigo1"></textarea>
    <button id="verificar1">Verificar funci√≥n</button>
    <div id="resultado1"></div>
    <div id="solucionFinal1" class="seccion-clave">
        <p>‚úÖ ¬°Excelente! Tu soluci√≥n es correcta.</p>
        <h4>Clave de validaci√≥n</h4>
        <p>La clave para este ejercicio es: **OR-Y**</p>
    </div>
</div>

<div class="card">
    <h3>Ejercicio 2: Entrada al Cine üéüÔ∏è</h3>
    <p>Escribe una funci√≥n <strong><code>puede_entrar(online, fisica, suspendida)</code></strong>. Puedes entrar a la sala si **compraste entrada online** O si tienes **entrada f√≠sica**, pero **no si est√° suspendida**.</p>
    <div class="advertencia">
        ‚ö†Ô∏è **Advertencia:** Respeta los nombres de la funci√≥n y las variables.
    </div>
    <p>Ingres√° tu c√≥digo en el √°rea de texto:</p>
    <textarea id="codigo2"></textarea>
    <button id="verificar2">Verificar funci√≥n</button>
    <div id="resultado2"></div>
    <div id="solucionFinal2" class="seccion-clave">
        <p>‚úÖ ¬°Excelente! Tu soluci√≥n es correcta.</p>
        <h4>Clave de validaci√≥n</h4>
        <p>La clave para este ejercicio es: **Ticket-OK**</p>
    </div>
</div>

<div class="card">
    <h3>Ejercicio 3: Subida al Juego üé¢</h3>
    <p>Escribe una funci√≥n <strong><code>puede_subir(medida, acompanado)</code></strong>. Un ni√±o puede subir al juego si **mide m√°s de 1.3m y est√° acompa√±ado por un adulto**, O si **mide m√°s de 1.5m**.</p>
    <div class="advertencia">
        ‚ö†Ô∏è **Advertencia:** Respeta los nombres de la funci√≥n y las variables. La medida se pasa como un n√∫mero, no como un booleano.
    </div>
    <p>Ingres√° tu c√≥digo en el √°rea de texto:</p>
    <textarea id="codigo3"></textarea>
    <button id="verificar3">Verificar funci√≥n</button>
    <div id="resultado3"></div>
    <div id="solucionFinal3" class="seccion-clave">
        <p>‚úÖ ¬°Excelente! Tu soluci√≥n es correcta.</p>
        <h4>Clave de validaci√≥n</h4>
        <p>La clave para este ejercicio es: **Altura-Adulta**</p>
    </div>
</div>

<div class="card">
    <h3>Ejercicio 4: Conexi√≥n a Internet üåê</h3>
    <p>Escribe una funci√≥n <strong><code>conectar(en_red, clave_correcta, acceso_especial)</code></strong>. El dispositivo puede conectarse si **est√° dentro de la red y tiene clave correcta**, O si **tiene acceso especial**.</p>
    <div class="advertencia">
        ‚ö†Ô∏è **Advertencia:** Respeta los nombres de la funci√≥n y las variables.
    </div>
    <p>Ingres√° tu c√≥digo en el √°rea de texto:</p>
    <textarea id="codigo4"></textarea>
    <button id="verificar4">Verificar funci√≥n</button>
    <div id="resultado4"></div>
    <div id="solucionFinal4" class="seccion-clave">
        <p>‚úÖ ¬°Excelente! Tu soluci√≥n es correcta.</p>
        <h4>Clave de validaci√≥n</h4>
        <p>La clave para este ejercicio es: **Wifi-OK**</p>
    </div>
</div>

<script>
// Objeto para almacenar las soluciones correctas y las claves
const ejercicios = {
    1: {
        soluciones: [
            'defvamos(libre,dinero,amigo):return(libreordinero)andamigo',
            'defvamos(libre,dinero,amigo):returnamigoand(libreordinero)'
        ],
        patronSintaxis: /^def\s+vamos\s*\(\s*libre\s*,\s*dinero\s*,\s*amigo\s*\)\s*:/,
    },
    2: {
        soluciones: [
            'defpuede_entrar(online,fisica,suspendida):return(onlineorfisica)andnotsuspendida',
            'defpuede_entrar(online,fisica,suspendida):returnnotsuspendidaand(onlineorfisica)'
        ],
        patronSintaxis: /^def\s+puede_entrar\s*\(\s*online\s*,\s*fisica\s*,\s*suspendida\s*\)\s*:/,
    },
    3: {
        soluciones: [
            'defpuede_subir(medida,acompanado):return(medida>1.3andacompanado)ormedida>1.5',
            'defpuede_subir(medida,acompanado):returnmedida>1.5or(medida>1.3andacompanado)',
            'defpuede_subir(medida,acompanado):returnmedida>1.5ormedida>1.3andacompanado',
            'defpuede_subir(medida,acompanado):returnmedida>1.3andacompanadoormedida>1.5'
        ],
        patronSintaxis: /^def\s+puede_subir\s*\(\s*medida\s*,\s*acompanado\s*\)\s*:/,
    },
    4: {
        soluciones: [
            'defconectar(en_red,clave_correcta,acceso_especial):return(en_redandclave_correcta)oracceso_especial',
            'defconectar(en_red,clave_correcta,acceso_especial):returnacceso_especialor(en_redandclave_correcta)',
            'defconectar(en_red,clave_correcta,acceso_especial):returnacceso_especialoren_redandclave_correcta'
        ],
        patronSintaxis: /^def\s+conectar\s*\(\s*en_red\s*,\s*clave_correcta\s*,\s*acceso_especial\s*\)\s*:/,
    }
};

// Funci√≥n de validaci√≥n gen√©rica para todos los ejercicios
function verificar(ejercicioNumero) {
    const codigoUsuario = document.getElementById(`codigo${ejercicioNumero}`).value;
    const resultadoDiv = document.getElementById(`resultado${ejercicioNumero}`);
    const solucionFinalDiv = document.getElementById(`solucionFinal${ejercicioNumero}`);
    
    // Ocultar la secci√≥n de soluci√≥n y clave por defecto
    solucionFinalDiv.style.display = 'none';

    // Normalizar el c√≥digo del usuario para la comparaci√≥n
    const codigoNormalizado = codigoUsuario.replace(/\s/g, '').trim();

    // Validar sintaxis de la primera l√≠nea
    const lineasUsuario = codigoUsuario.split('\n');
    const patronSintaxis = ejercicios[ejercicioNumero].patronSintaxis;
    if (!patronSintaxis.test(lineasUsuario[0])) {
        resultadoDiv.textContent = "‚ùå Error de sintaxis. Revisa la definici√≥n de la funci√≥n y los nombres de las variables.";
        resultadoDiv.style.color = "red";
        return;
    }

    // Validar indentaci√≥n de la segunda l√≠nea
    if (lineasUsuario.length > 1 && !lineasUsuario[1].startsWith("    ")) {
        resultadoDiv.textContent = "‚ùå Error de indentaci√≥n. La l√≠nea del 'return' debe tener una indentaci√≥n de 4 espacios.";
        resultadoDiv.style.color = "red";
        return;
    }
    
    // Validar la l√≥gica
    const solucionesNormalizadas = ejercicios[ejercicioNumero].soluciones;
    if (solucionesNormalizadas.includes(codigoNormalizado)) {
        resultadoDiv.textContent = "‚úÖ ¬°Excelente! Tu soluci√≥n es correcta.";
        resultadoDiv.style.color = "green";
        solucionFinalDiv.style.display = 'block';
    } else {
        resultadoDiv.textContent = "‚ùå Error de l√≥gica. Revisa tu f√≥rmula y el uso de par√©ntesis para agrupar las condiciones.";
        resultadoDiv.style.color = "red";
    }
}

// Asociar cada bot√≥n a su funci√≥n de verificaci√≥n correspondiente
document.getElementById("verificar1").addEventListener("click", () => verificar(1));
document.getElementById("verificar2").addEventListener("click", () => verificar(2));
document.getElementById("verificar3").addEventListener("click", () => verificar(3));
document.getElementById("verificar4").addEventListener("click", () => verificar(4));

// Manejar la tecla Tab para indentar en todos los textareas
document.querySelectorAll('textarea').forEach(textarea => {
    textarea.addEventListener('keydown', function(e) {
        if (e.key === 'Tab') {
            e.preventDefault();
            const start = this.selectionStart;
            const end = this.selectionEnd;
            const tab = "    "; // 4 espacios por convenci√≥n de Python
            this.value = this.value.substring(0, start) + tab + this.value.substring(end);
            this.selectionStart = this.selectionEnd = start + tab.length;
        }
    });
});
</script>

</body>
</html>