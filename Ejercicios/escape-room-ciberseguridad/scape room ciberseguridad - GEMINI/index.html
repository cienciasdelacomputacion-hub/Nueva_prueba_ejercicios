<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Operaci√≥n Firewall: ATLAS</title>
    <link rel="stylesheet" href="style.css" />
</head>
<body>

    <canvas id="gridbg" aria-hidden="true"></canvas>

    <section id="screen-start" class="screen active">
        <h1 class="glitch" data-text="INSTITUTO ATLAS">INSTITUTO ATLAS</h1>
        <h2>Operaci√≥n Firewall: Agente An√≥nimo</h2>
        <p class="intro-text">
            **Fecha: 24 octubre 2025**<br/>
            Agente, el Instituto ATLAS est√° comprometido. Una amenaza silenciosa, que llamo el 'C√≥digo Fantasma', ha penetrado nuestros sistemas. No conf√≠es en nadie. Te he citado aqu√≠ de forma an√≥nima para que act√∫es. Tu misi√≥n es navegar por los sectores cr√≠ticos de ATLAS, identificar las brechas y, lo m√°s importante, aprender de cada una para protegerte a ti mismo en el mundo digital. Cada misi√≥n completada te dar√° acceso a nuevas √°reas. Al final, deber√°s identificar al C√≥digo Fantasma. El futuro de ATLAS, y la seguridad de tu propia vida digital, dependen de tus decisiones.`
        </p>
        <button class="btn primary" id="btn-start">Acceder al Mapa de Operaciones</button>
    </section>

    <section id="screen-game" class="screen hidden">
        <header class="hud">
            <div>‚ö° Puntos: <span id="hud-score">0</span></div>
            <div>üîê Firewalls: <span id="hud-keys">0/5</span></div>
            <div id="hud-suspect">üîé Sospechoso: PENDIENTE</div>
        </header>

        <main class="content-wrapper">
            <div id="screen-map" class="sub-screen active">
                <h2>üìÅ Mapa de Operaciones - Sectores de ATLAS</h2>

                <div class="folder-grid">
                    <div class="folder" data-mission-id="intro" aria-disabled="false">
                        <h3>1. Direcci√≥n</h3>
                        <p class="muted">Principio C.I.D.</p>
                        <div class="mission-avatar-container"></div>
                        <p class="mission-status">Pendiente</p>
                        <button class="btn secondary" data-target-screen="mission1">Acceder</button>
                    </div>

                    <div class="folder" data-mission-id="hackers" aria-disabled="true">
                        <h3>2. Reclutamiento</h3>
                        <p class="muted">An√°lisis de Amenazas (Hacker)</p>
                        <div class="mission-avatar-container"></div>
                        <p class="mission-status">Pendiente</p>
                        <button class="btn secondary" data-target-screen="mission2">Acceder</button>
                    </div>

                    <div class="folder" data-mission-id="credenciales" aria-disabled="true">
                        <h3>3. Identidad Digital</h3>
                        <p class="muted">Credenciales y MFA</p>
                        <div class="mission-avatar-container"></div>
                        <p class="mission-status">Pendiente</p>
                        <button class="btn secondary" data-target-screen="mission3">Acceder</button>
                    </div>
                    <div class="folder" data-mission-id="ing_social" aria-disabled="true">
                        <h3>4. Seguridad Interna</h3>
                        <p class="muted">Ingenier√≠a Social</p>
                        <div class="mission-avatar-container"></div>
                        <p class="mission-status">Pendiente</p>
                        <button class="btn secondary" data-target-screen="mission4">Acceder</button>
                    </div>
                    <div class="folder" data-mission-id="iot" aria-disabled="true">
                        <h3>5. Innovaci√≥n</h3>
                        <p class="muted">Vulnerabilidad IoT</p>
                        <div class="mission-avatar-container"></div>
                        <p class="mission-status">Pendiente</p>
                        <button class="btn secondary" data-target-screen="mission5">Acceder</button>
                    </div>

                    <div class="folder terminal-folder">
                        <h3>TERMINAL</h3>
                        <p class="muted">Protocolo de Finalizaci√≥n</p>
                        <p class="mission-status">Bloqueado</p>
                        <button id="btn-terminal" class="btn primary" disabled>Tomar Decisi√≥n Final</button>
                    </div>
                </div>
            </div>

            <div id="mission1" class="sub-screen hidden panel-container">
                <div class="panel main-panel">
                    <div class="briefing" id="mission1-briefing">
                        <h2>1. Sector Direcci√≥n: Principio C.I.D.</h2>
                        <img src="dra_vega.png" class="avatar" alt="Dra. Vega">
                        <h3 class="briefer-name">Informe de la Dra. Vega</h3>
                        <div class="brief-grid">
                          <div class="brief-col video-col">
                            <div class="video-wrapper" id="video-wrapper-m1">
                                
                            </div>
                          </div>
                          <div class="brief-col text-col">
                            <p class="briefing-text">Bienvenido, Agente. Tu primera misi√≥n es crucial. Se ha detectado una brecha en nuestra base de datos de becas. Tu tarea es identificar el patr√≥n de acceso an√≥malo y restaurar la confidencialidad. Los principios de C.I.D. son la clave.</p>
                          </div>
                        </div>
                        <hr/>

                        <div id="challenge-cid" class="challenge-ui">
                            <h3>ASIGNACI√ìN C.I.D. (APLICADO A TU VIDA REAL)</h3>
                            <p class="muted">Selecciona el principio de la tr√≠ada (Confidencialidad, Integridad, Disponibilidad) que se compromete m√°s en cada caso:</p>

                            <div class="challenge-item" data-cid-correct="CONFIDENCIALIDAD">
                                <span>1. Alguien accede a tu cuenta de Instagram y ve tus mensajes privados.</span>
                                <div class="choices">
                                    <button class="choice" data-key="CONFIDENCIALIDAD">Confidencialidad</button>
                                    <button class="choice" data-key="INTEGRIDAD">Integridad</button>
                                    <button class="choice" data-key="DISPONIBILIDAD">Disponibilidad</button>
                                </div>
                            </div>
                            <div class="challenge-item" data-cid-correct="DISPONIBILIDAD">
                                <span>2. Un ciberataque tumba los servidores de tu banco y no puedes acceder a tu dinero.</span>
                                <div class="choices">
                                    <button class="choice" data-key="CONFIDENCIALIDAD">Confidencialidad</button>
                                    <button class="choice" data-key="INTEGRIDAD">Integridad</button>
                                    <button class="choice" data-key="DISPONIBILIDAD">Disponibilidad</button>
                                </div>
                            </div>
                            <div class="challenge-item" data-cid-correct="INTEGRIDAD">
                                <span>3. Alguien modifica tus calificaciones universitarias en el sistema para que parezca que reprobaste una materia.</span>
                                <div class="choices">
                                    <button class="choice" data-key="CONFIDENCIALIDAD">Confidencialidad</button>
                                    <button class="choice" data-key="INTEGRIDAD">Integridad</button>
                                    <button class="choice" data-key="DISPONIBILIDAD">Disponibilidad</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="unlock">
                        <label for="mission1-challenge-key">Para completar tu misi√≥n, deber√°s ingresar la palabra clave.
Pista: se trata de uno de los pilares fundamentales de la ciberseguridad.
Si ordenaras sus iniciales alfab√©ticamente, ser√≠a la primera. ¬øYa sabes cu√°l es? </label>
                        <input id="mission1-challenge-key" type="text" placeholder="Clave" />
                        <button id="mission1-btn-submit" class="btn success">Desbloquear Firewall</button>
                    </div>

                    <div id="mission1-feedback" class="feedback" role="status" aria-live="polite"></div>
                    <div class="footer-actions">
                        <button class="btn secondary" data-target-screen="screen-map">Volver al mapa</button>
                    </div>
                </div>
            </div>

            <div id="mission2" class="sub-screen hidden panel-container">
                <div class="panel main-panel">
                    <div class="briefing" id="mission2-briefing">
                        <h2>2. Sector Reclutamiento: El C√≥digo Fantasma</h2>
                        <img src="kai_byte.png" class="avatar" alt="Kai Byte">
                        <h3 class="briefer-name">Informe de Kai Byte</h3>
                        <div class="brief-grid">
                            <div class="brief-col video-col">
                                <div class="video-wrapper" id="video-wrapper-m2"></div>
                        </div>
                        <div class="brief-col text-col">
                            <p class="briefing-text">Agente, el problema se complica. Hay un 'C√≥digo Fantasma' operando dentro de ATLAS, alguien con acceso y conocimientos internos. Mi preocupaci√≥n es que podr√≠a ser una de nuestras nuevas incorporaciones. Debemos entender que no todos los 'hackers' son iguales; hay quienes buscan proteger (Sombreros Blancos), quienes operan en la ambig√ºedad (Sombreros Grises) y quienes buscan el da√±o (Sombreros Negros). Es vital discernir sus intenciones para proteger nuestra red. Analiza estos perfiles y clasifica a cada agente. Luego, y esto es crucial, elige a tu Sospechoso Principal. Tu elecci√≥n activar√° la siguiente fase de nuestra investigaci√≥n.</p>
                              </div>
                        </div>

                        <hr/>

                        <div id="challenge-hackers" class="challenge-ui">
                            <h3>CLASIFICACI√ìN DE AGENTES (EL C√ìDIGO FANTASMA)</h3>
                            <p class="muted">Clasifica a cada agente seg√∫n sus actitudes (Blanco, Gris, Negro). Cada error restar√° puntos. Debes clasificar a los tres para poder elegir un sospechoso.</p>

                            <div class="challenge-item" data-hacker-correct="Gris">
                                <span class="hacker-description">Agente Vega: Pide acceso a logs de red sin permiso; Se ausent√≥ 2 d√≠as por 'gripe'; Usa Wi-Fi p√∫blica para trabajo.</span>
                                <div class="choices">
                                    <button class="choice" data-hacker-type="Blanco">Blanco</button>
                                    <button class="choice" data-hacker-type="Gris">Gris</button>
                                    <button class="choice" data-hacker-type="Negro">Negro</button>
                                </div>
                            </div>
                            <div class="challenge-item" data-hacker-correct="Blanco">
                                <span class="hacker-description">Agente Leo: Reporta fallos en sistemas externos; Bloquea IPs no autorizadas; Da charlas de seguridad.</span>
                                <div class="choices">
                                    <button class="choice" data-hacker-type="Blanco">Blanco</button>
                                    <button class="choice" data-hacker-type="Gris">Gris</button>
                                    <button class="choice" data-hacker-type="Negro">Negro</button>
                                </div>
                            </div>
                            <div class="challenge-item" data-hacker-correct="Negro">
                                <span class="hacker-description">Agente Kael: Se opone a la MFA; Se descubri√≥ que vend√≠a listas de correos; Usa 'password123' en un test.</span>
                                <div class="choices">
                                    <button class="choice" data-hacker-type="Blanco">Blanco</button>
                                    <button class="choice" data-hacker-type="Gris">Gris</button>
                                    <button class="choice" data-hacker-type="Negro">Negro</button>
                                </div>
                            </div>
                        </div>

                        <div id="suspect-ui-container" style="margin-top: 30px;">
                            <h3>Elige a tu Sospechoso Principal</h3>
                            <p class="muted" id="suspect-selection-message">Clasifica a los tres agentes arriba para habilitar la selecci√≥n.</p>
                            <div id="suspect-choice-area" style="display:flex; gap:20px; justify-content:center; margin-top:15px;">
                            </div>
                            <button id="btn-confirm-suspect" class="btn primary" style="margin-top:15px; display:none;">Confirmar Sospechoso</button>
                        </div>
                    </div>

                    <div id="mission2-feedback" class="feedback" role="status" aria-live="polite"></div>
                    <div class="footer-actions">
                        <button class="btn secondary" data-target-screen="screen-map">Volver al mapa</button>
                    </div>
                </div>
            </div>

            <div id="mission3" class="sub-screen hidden panel-container">
                <div class="panel main-panel">
                    <div class="briefing" id="mission3-briefing">
                        <h2>3. Sector Identidad Digital: El C√≥digo de Acceso</h2>
                        <img src="dra_cipher.png" class="avatar" alt="Dra. Cipher">
                        <h3 class="briefer-name">Informe de la Dra. Cipher</h3>
                        <div class="brief-grid">
                        <div class="brief-col video-col">
                        <div class="video-wrapper" id="video-wrapper-m3"></div>
                        </div>
                          <div class="brief-col text-col">

                        <p class="briefing-text">Agente, hemos contenido un intento masivo de 'Credential Stuffing' gracias a nuestra Autenticaci√≥n Multifactor (MFA). Pero la realidad es que no todas tus cuentas personales tienen esta protecci√≥n. La MFA es una capa de seguridad vital que exige dos o m√°s pruebas para verificar tu identidad: algo que sabes (tu contrase√±a), algo que tienes (un c√≥digo de tu m√≥vil) o algo que eres (tu huella dactilar). Mi preocupaci√≥n es que sin ella, tus cuentas son vulnerables. Para continuar, deber√°s explorar una 'habitaci√≥n oscura' de nuestro sistema de pruebas y encontrar un c√≥digo, una clave num√©rica de 4 cifras que restaur√° el acceso al sistema de credenciales cr√≠tico. Pista: ten en cuenta cuales son las buenas pr√°cticas de gesti√≥n de credenciales.
</p>
                        </div>
                        </div>

                        <hr/>

                        <div id="genially-container-wrapper-m3" style="display:block; width:100%; min-height:500px; margin: 20px 0;">
                        </div>
                    </div>

                    <div class="unlock">
                        <label for="mission3-challenge-key">Para continuar, deber√°s explorar una 'habitaci√≥n oscura' de nuestro sistema de pruebas y encontrar un c√≥digo, una clave num√©rica de 4 cifras que restaur√° el acceso al sistema de credenciales cr√≠tico. Pista: ten en cuenta cuales son las buenas pr√°cticas de gesti√≥n de credenciales.</label>
                        <input id="mission3-challenge-key" type="text" placeholder="Clave num√©rica" maxlength="4" />
                        <button id="mission3-btn-submit" class="btn success">Desbloquear Firewall</button>
                    </div>

                    <div id="mission3-feedback" class="feedback" role="status" aria-live="polite"></div>
                    <div class="footer-actions">
                        <button class="btn secondary" data-target-screen="screen-map">Volver al mapa</button>
                    </div>
                </div>
            </div>

            <div id="mission4" class="sub-screen hidden panel-container">
                <div class="panel main-panel">
                    <div class="briefing" id="mission4-briefing">
                        <h2>4. Sector Seguridad Interna: Ingenier√≠a Social</h2>
                        <img src="agente_phish.png" class="avatar" alt="Agente Phish">
                        <h3 class="briefer-name">Informe del Agente Phish</h3>
                        <div class="brief-grid">
                        <div class="brief-col video-col">
                        <div class="video-wrapper" id="video-wrapper-m4"></div>
                        </div>
                        <div class="brief-col text-col">
                        <p class="briefing-text">Agente, estoy seriamente preocupado por una serie de incidentes que no encajan con los patrones de ataques habituales. No son fallas de software o contrase√±as d√©biles. Es como si a la gente... simplemente se la hubiera manipulado para que hiciera cosas que no deb√≠a. Esto es Ingenier√≠a Social, el arte oscuro de la persuasi√≥n. Los atacantes explotan nuestra confianza, nuestra curiosidad, nuestro miedo, o sobre todo, nuestra **urgencia**, para que les demos informaci√≥n o hagamos clic donde no debemos. Necesito que converses con nuestro chatbot de simulaci√≥n de buenas pr√°cticas en este Genially. Aprende a identificar las maniobras y, al finalizar el entrenamiento, obtendr√°s la clave.</p>
                        </div>
                        </div>

                        <hr/>

                        <div id="genially-container-wrapper-m4" style="display:block; width:100%; min-height:500px; margin: 20px 0;">
                        </div>
                    </div>

                    <div class="unlock">
                        <label for="mission4-challenge-key">Ingresar la clave de la misi√≥n¬øQu√© emoci√≥n o t√©cnica es la m√°s usada para manipularnos y hacernos hacer clic? Escribila yaaa!</label>
                        <input id="mission4-challenge-key" type="text" placeholder="Clave" />
                        <button id="mission4-btn-submit" class="btn success">Validar Simulaci√≥n</button>
                    </div>

                    <div id="mission4-feedback" class="feedback" role="status" aria-live="polite"></div>
                    <div class="footer-actions">
                        <button class="btn secondary" data-target-screen="screen-map">Volver al mapa</button>
                    </div>
                </div>
            </div>

            <div id="mission5" class="sub-screen hidden panel-container">
                <div class="panel main-panel">
                    <div class="briefing" id="mission5-briefing">
                        <h2>5. Sector Innovaci√≥n: Vulnerabilidad IoT</h2>
                        <img src="ing_nodea.png" class="avatar" alt="Ing. Nodea">
                        <h3 class="briefer-name">Informe del Ing. Nodea</h3>
                        <div class="brief-grid">
                        <div class="brief-col video-col">
                        <div class="video-wrapper" id="video-wrapper-m5"></div>
                        </div>
                        <div class="brief-col text-col">
                        <p class="briefing-text">Agente, hemos llegado al √∫ltimo punto. En ATLAS, hemos abrazado la tecnolog√≠a IoT (Internet de las Cosas) para optimizar procesos, desde el control ambiental hasta la seguridad perimetral con c√°maras inteligentes. Esto nos permite una eficiencia sin precedentes. Pero mi gran preocupaci√≥n es que, si no se usan correctamente, estas tecnolog√≠as nos exponen a nuevos riesgos.

                            Recuerdo que, en su momento, la persona encargada de la instalaci√≥n de una c√°mara de seguridad en un sector remoto hizo varias preguntas y me coment√≥ que por defecto, la clave inicial de esa c√°mara espec√≠fica es <strong>'NODE'</strong>. La gran pregunta es: ¬øLa habr√° cambiado? El 'C√≥digo Fantasma' se infiltr√≥ a trav√©s de una configuraci√≥n insegura de una c√°mara IoT. Esto me genera much√≠simas dudas, Agente. Intenta ayudarnos a descubrir qu√© fall√≥.</p>
                          </div>
                        </div>

                        <hr/>

                        <div id="challenge-iot" class="challenge-ui">
                            <h3>SEGURIDAD EN DISPOSITIVOS IoT</h3>
                            <p class="muted">Selecciona la medida m√°s cr√≠tica para mitigar el riesgo de una c√°mara IoT con credenciales de f√°brica. Cada error restar√° puntos.</p>

                            <div class="challenge-item" data-iot-correct="Cambiar credenciales y actualizar firmware.">
                                <span>Medida para una c√°mara con "admin/admin":</span>
                                <div class="choices">
                                    <button class="choice" data-iot-option="Dejarla en red de invitados.">Dejarla en red de invitados.</button>
                                    <button class="choice" data-iot-option="Cambiar credenciales y actualizar firmware.">Cambiar credenciales y actualizar firmware.</button>
                                    <button class="choice" data-iot-option="Ponerle firewall f√≠sico.">Ponerle firewall f√≠sico.</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="unlock">
                        <label for="mission5-challenge-key">Ingresa c√≥mo se conect√≥ la c√°mara IoT: intenta comprobar si a√∫n usa la contrase√±a por defecto que sospechas. ¬øla recuerdas?</label>
                        <input id="mission5-challenge-key" type="text" placeholder="Clave" />
                        <button id="mission5-btn-submit" class="btn success">Desbloquear Firewall</button>
                    </div>

                    <div id="mission5-feedback" class="feedback" role="status" aria-live="polite"></div>
                    <div class="footer-actions">
                        <button class="btn secondary" data-target-screen="screen-map">Volver al mapa</button>
                        <div id="final-suspect-choice-section" style="margin-top: 20px; text-align: center;">
                            <h3>√öltima Oportunidad: ¬øQui√©n es el C√≥digo Fantasma?</h3>
                            <p class="muted">Con toda la informaci√≥n recopilada, ¬øconfirma tu sospechoso o cambias de culpable?</p>
                            <div id="final-suspect-choice-area" style="display:flex; gap:10px; justify-content:center; flex-wrap: wrap;">
                            </div>
                            <button id="btn-confirm-final-suspect" class="btn primary" style="margin-top:15px;">Confirmar Decisi√≥n Final</button>
                        </div>
                    </div>
                </div>
            </div>

            <div id="screen-end" class="sub-screen hidden feedback-screen" style="max-width: 90%; margin: 20px auto; padding: 20px;">
                <p class="intro-text" id="final-message"></p>
                <p class="intro-text">Puntuaci√≥n final: <b id="final-score">0</b></p>
                <button class="btn primary" id="btn-replay">Reiniciar Sistema</button>
            </div>
        </main>
    </section>

    <audio id="sfx-ok" src="audio/ok.mp3" preload="auto"></audio>
    <audio id="sfx-error" src="audio/error.mp3" preload="auto"></audio>
    <audio id="sfx-hover" src="audio/hover.mp3" preload="auto"></audio>
    <audio id="sfx-click" src="audio/click.mp3" preload="auto"></audio>

    <script src="script.js"></script>
</body>
</html>